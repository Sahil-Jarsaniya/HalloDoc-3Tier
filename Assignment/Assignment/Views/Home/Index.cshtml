@model Assignment.ViewModel.IndexViewModel;
@{
    ViewData["Title"] = "Home Page";
}

<div class="container p-3">

    <div class="d-flex justify-content-between w-100 m-1 p-1">
        <button class="btn btn-success" id="AddTaskBtn" onclick="AddTask()">Add Task</button>
        <input type="search" name="Search" id="Search" placeholder="Search" />
    </div>
    <div id="AddModalDiv"></div>
    <div id="TaskTable">
        @*<partial name="_TaskTable" />*@
    </div>
</div>

@section Scripts{
    <script>
        $(document).ready(function () {

            $.ajax({
                url: "/Home/FilterTable",
                type: 'POST',
                data: { pageNumber: 1, name: $("#Search").val() },
                success: function (result) {
                    $('#TaskTable').html(result);
                },
                error: function (error) {
                    console.log(error);
                    alert('error fetching details')
                },
            });
        })

        $("#Search").keyup(function(){
            $.ajax({
                url: "/Home/FilterTable",
                type: 'POST',
                data: { name: $("#Search").val() },
                success: function (result) {
                    $('#TaskTable').html(result);
                },
                error: function (error) {
                    console.log(error);
                    alert('error fetching details')
                },
            });
        })
      
    </script>
}
